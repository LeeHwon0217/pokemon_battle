## 간단 소개

이 게임은 Pygame 기반의 간단한 '포켓몬 스타일' 전투/탐험 데모입니다.
플레이어는 맵을 돌아다니며 야생 포켓몬과 전투하고, 경험치를 모아 레벨업할 수 있습니다.

## 게임 진행 방법

- 이동: 방향키(← → ↑ ↓)로 캐릭터를 이동하세요.
- 맵에서 일정 확률로 야생 포켓몬이 등장하여 전투가 시작됩니다.
- 전투 화면에서는 다음 선택을 할 수 있습니다:
  - 공격: 적 포켓몬에게 공격합니다.
  - 가방(포획/아이템 - 현재 간단 회복 아이템 지원): 회복 아이템 사용 또는 포획 시도(미구현 시도는 실패 처리될 수 있음).
  - 도망: 전투에서 도망칩니다. 주의: 연속으로 두 번 도망하면 게임오버가 됩니다.

전투 중 HUD는 포켓몬 이름, 레벨, HP바를 표시합니다. HP는 녹→노→빨 색상으로 표시됩니다.

## 아이템

- 회복 아이템: 맵에 주기적으로 흰색 원(아이템)이 등장합니다. 해당 아이템을 획득하면 플레이어의 포켓몬 HP를 회복합니다.
  - 스폰: 아이템은 일정 시간마다 맵에 랜덤한 위치에 생성됩니다.
  - 픽업: 플레이어가 아이템에 닿으면 즉시 회복량만큼 HP가 채워집니다.

현재 구현된 아이템은 단순 회복 아이템이며, 향후 포획용 볼, 상태 회복 아이템 등이 추가될 수 있습니다.

## 레벨업과 경험치

- 적 포켓몬을 쓰러뜨리면 경험치를 획득합니다. 획득 EXP는 적의 레벨에 비례합니다.
- 플레이어 포켓몬은 경험치가 일정량(레벨 관련 공식을 사용) 누적되면 레벨업합니다. 레벨업 시 최대 HP 및 기타 스탯이 증가하고, 일부 체력이 회복됩니다.

게임 상단/전투 HUD에서 현재 HP 및 레벨 상태를 확인하세요.

## 게임 종료 조건

- 플레이어의 포켓몬이 전멸(모두 HP 0)하면 게임오버가 됩니다.
- 또한 플레이 도중 연속으로 두 번 도망칠 경우(플레이어가 전투를 회피하려고 반복 시도) "포켓몬이 실망했다..." 메시지와 함께 게임오버가 발생합니다. 게임오버 화면에서는 지금까지 획득한 총 EXP가 표시되며, 다시 시작 버튼으로 초기화 후 재도전할 수 있습니다.

## 사진/스프라이트

- 전투 시 포켓몬 이미지가 사용됩니다. 프로젝트 루트나 `assets/pokemon/` 폴더에 포켓몬명(예: `꼬부기.png`)으로 이미지 파일을 넣으면 전투 화면에 표시됩니다.

## 로컬에서 실행하는 방법

1. 의존성 설치 (권장):

```powershell
python -m pip install --upgrade pip
python -m pip install pygame
```

2. 로컬에서 직접 실행

```powershell
python game.py
```

## 트러블슈팅

- 웹소켓 연결이 안 되는 경우: `ws_server.py`가 실행 중인지, 방화벽이 포트(기본 8765)를 차단하고 있지 않은지 확인하세요.
- 이미지가 보이지 않으면 해당 포켓몬 이름으로 이미지 파일이 올바른 폴더에 있는지 확인하세요.
- 패키지 관련 오류가 발생하면 위의 pip 설치 명령을 실행해 필요한 라이브러리를 설치하세요.

## 향후 개선 아이디어

- 포획(포켓볼) 메커닉 구현
- 기술(4개 + PP), 타입 상성, 포켓몬 교체 시스템
- 더 많은 아이템 추가(회복, 상태이상 회복 등)
- 사운드/효과 추가 및 애니메이션 향상

---

저장된 파일 및 핵심 변경 파일: `battle.py`, `scenes.py`, `base_pokemon.py`, `game.py`, `ws_server.py`, `index.html`.

문서나 실행 중 문제가 발생하면 오류 메시지를 붙여 알려주세요. 바로 도와드리겠습니다.
